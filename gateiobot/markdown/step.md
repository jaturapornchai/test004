# üìã Gate.io Trading Bot - Pivot Point SuperTrend with EMA100 and AI

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö
‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ó‡∏£‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ Pivot Point SuperTrend ‡πÅ‡∏•‡∏∞ EMA100 ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö AI ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î positions ‡∏ö‡∏ô Gate.io Futures

## ‚öôÔ∏è ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤
- ‡πÉ‡∏ä‡πâ Python ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏•‡∏ö Golang files ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
- ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢ file python ‡πÉ‡∏ä‡πâ import function ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á file ‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- ‡∏•‡∏ö file ‡πÅ‡∏•‡∏∞ function ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏°‡∏≠
- ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô folder test ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡πÉ‡∏ä‡πâ function ‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Gate.io ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ mock/stub)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ error
- ‡∏ï‡∏≠‡∏ô‡∏à‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö ‡πÉ‡∏´‡πâ‡∏õ‡∏¥‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° output (terminal) ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ f-string formatting ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡πÉ‡∏ä‡πâ concatenate string ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤
- ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç folder markdown (‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
- ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç folder prompts (‡πÄ‡∏õ‡πá‡∏ô manual prompt files)
- ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå .env (config ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API)
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á .md file ‡πÉ‡∏´‡∏°‡πà ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå markdown/step.md ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å
- ‡πÉ‡∏ä‡πâ try-except ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ error ‡∏ó‡∏∏‡∏Å‡∏à‡∏∏‡∏î ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πà‡∏°
- ‡πÅ‡∏™‡∏î‡∏á error message ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
- ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ RSI ‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏°‡∏•‡∏ö function ‡πÅ‡∏•‡∏∞ class ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡πÅ‡∏•‡∏∞ file ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≠‡∏Å ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

## üìä ‡∏Å‡∏é‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ó‡∏£‡∏î
### ‚ùå ‡∏Ç‡πâ‡∏≠‡∏´‡πâ‡∏≤‡∏°
- **‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î position ‡∏ã‡πâ‡∏≥‡πÉ‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô**
- **‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î position ‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î position** ‡∏ñ‡πâ‡∏≤ position ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- **‡∏´‡πâ‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á Stop Loss/Take Profit ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** - ‡πÄ‡∏õ‡πá‡∏ô AI-Only Mode

### ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö
- **‡πÉ‡∏ä‡πâ Pivot Point SuperTrend + EMA100 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô** - ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Chart Patterns ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **Time Frame 1H ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô** - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ timeframe ‡∏≠‡∏∑‡πà‡∏ô
- **SuperTrend ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á** - Trend = 1 ‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏±‡πà‡∏á LONG, Trend = -1 ‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏±‡πà‡∏á SHORT
- **AUTO OPEN Mode**: SuperTrend Confidence ‚â• 75% + Signal ‚â† NEUTRAL = ‡πÄ‡∏õ‡∏¥‡∏î position ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **AI Mode**: SuperTrend Confidence < 75% ‡∏´‡∏£‡∏∑‡∏≠ Signal = NEUTRAL ‡πÉ‡∏´‡πâ AI ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à (‡∏ï‡πâ‡∏≠‡∏á AI Confidence ‚â• 85%)

## üîß Pivot Point SuperTrend Parameters
- **Pivot Point Period**: 2 periods (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏≤ Pivot High/Low)
- **ATR Factor**: 3.0 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SuperTrend bands)
- **ATR Period**: 10 periods (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ATR)
- **EMA Period**: 100 periods (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå)
- **Time Frame**: 1H ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

## üìä Trading Signal Conditions

### üü¢ Long Position Strategy
**‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:** SuperTrend Trend = 1 (Bullish Trend)
1. **‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Trend**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠ SuperTrend ‡πÅ‡∏™‡∏î‡∏á Trend = 1 ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏±‡πà‡∏á LONG
2. **‡πÄ‡∏õ‡∏¥‡∏î Long**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤ rebound ‡∏à‡∏≤‡∏Å EMA100 (‡πÅ‡∏ó‡πà‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß Close > Open) 2 time frames ‡∏≠‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ

### üî¥ Short Position Strategy  
**‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:** SuperTrend Trend = -1 (Bearish Trend)
1. **‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Trend**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠ SuperTrend ‡πÅ‡∏™‡∏î‡∏á Trend = -1 ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏±‡πà‡∏á SHORT
2. **‡πÄ‡∏õ‡∏¥‡∏î Short**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤ reject ‡∏à‡∏≤‡∏Å EMA100 (‡πÅ‡∏ó‡πà‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á Close < Open) 2 time frames ‡∏≠‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ

## üìà Position Parameters
- **Position Size**: 15 USDT ‡∏ï‡πà‡∏≠ position
- **Leverage**: 5x (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚úÖ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)
- **Margin Mode**: isolated (‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default ‡∏à‡∏≤‡∏Å Gate.io ‚úÖ)
- **Total Position Value**: 75 USDT (15 USDT x 5x leverage)
- **‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Balance**: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 15 USDT

## üîÑ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

### ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
```bash
python app.py
```

### LOOP1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Positions (‡∏ó‡∏∏‡∏Å 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö positions ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
2. ‡∏î‡∏∂‡∏á OHLCV 100 ‡πÅ‡∏ó‡πà‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (1H) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ position
3. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• position + OHLCV ‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
4. AI ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: CLOSE ‡∏´‡∏£‡∏∑‡∏≠ HOLD
5. ‡∏õ‡∏¥‡∏î position ‡∏ñ‡πâ‡∏≤ AI ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ CLOSE ‡πÅ‡∏•‡∏∞ confidence ‚â• 85%
6. ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å Gate.io Futures (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ USDT pairs)

### LOOP2: ‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà
1. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏î‡πâ‡∏ß‡∏¢ Pivot Point SuperTrend + EMA100
   - ‡∏î‡∏∂‡∏á OHLCV 120 ‡πÅ‡∏ó‡πà‡∏á (‡πÉ‡∏ä‡πâ 100 ‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå)
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Pivot Points (High/Low) ‡∏î‡πâ‡∏ß‡∏¢ period 2
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ATR ‡∏î‡πâ‡∏ß‡∏¢ period 10
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SuperTrend bands (Factor 3.0) ‡πÅ‡∏•‡∏∞ Trend value
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì EMA100
   - ‡∏î‡∏π‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á: Trend = 1 (LONG), Trend = -1 (SHORT)
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Signal ‡πÅ‡∏•‡∏∞ Confidence % ‡∏à‡∏≤‡∏Å SuperTrend

2. **AUTO OPEN Mode** (SuperTrend Confidence ‚â• 75% + Signal ‚â† NEUTRAL):
   - ‡πÄ‡∏õ‡∏¥‡∏î position ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≤‡∏° AI
   - ‡πÉ‡∏ä‡πâ Stop Loss/Take Profit ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å SuperTrend
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Risk-Reward Ratio ‚â• 3.0
   - ‡πÄ‡∏õ‡∏¥‡∏î position ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ñ‡πâ‡∏≤‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Ñ‡∏£‡∏ö

3. **AI Mode** (SuperTrend Confidence < 75% ‡∏´‡∏£‡∏∑‡∏≠ Signal = NEUTRAL):
   - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
   - AI ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: LONG/SHORT/HOLD ‡∏û‡∏£‡πâ‡∏≠‡∏° confidence %
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Risk-Reward Ratio ‚â• 3.0 (AI ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡πâ)
   - ‡πÄ‡∏õ‡∏¥‡∏î position ‡∏ñ‡πâ‡∏≤ AI confidence ‚â• 85%

4. ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î position (‡∏ó‡∏±‡πâ‡∏á AUTO ‡πÅ‡∏•‡∏∞ AI Mode):
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ position ‡∏ã‡πâ‡∏≥‡πÉ‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ô‡∏±‡πâ‡∏ô
   - ‡∏°‡∏µ balance ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‚â• 15 USDT)
   - Risk-Reward Ratio ‚â• 3.0

5. ‡πÉ‡∏ä‡πâ batch processing (20 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç/batch, ‡∏û‡∏±‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
6. ‡∏ß‡∏ô‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏´‡∏£‡∏∑‡∏≠ balance ‡∏´‡∏°‡∏î
7. ‡∏£‡∏≠‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ LOOP1

## ü§ñ AI Integration

### Dual Mode System: AUTO OPEN + AI
‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ 2 ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

#### üöÄ AUTO OPEN Mode
- **‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç**: SuperTrend Confidence ‚â• 75% + Signal ‚â† NEUTRAL
- **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**: ‡πÄ‡∏õ‡∏¥‡∏î position ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≤‡∏° AI
- **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ**: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á, ‡∏•‡∏î API calls, ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- **Stop Loss/Take Profit**: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å SuperTrend bands ‡πÅ‡∏•‡∏∞ ATR

#### ü§ñ AI Mode
- **‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç**: SuperTrend Confidence < 75% ‡∏´‡∏£‡∏∑‡∏≠ Signal = NEUTRAL
- **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**: ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
- **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ**: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏•‡∏∂‡∏Å, ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- **AI Confidence ‡∏ï‡πâ‡∏≠‡∏á ‚â• 85%** ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î position

### Manual Prompt Mode
- **‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á prompt ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** - ‡πÉ‡∏ä‡πâ manual prompt ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ
- **Prompt files**:
  - `prompts/open_position_prompt.txt` - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î position
  - `prompts/close_position_prompt.txt` - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏î position
- **‡∏†‡∏≤‡∏©‡∏≤**: Prompt ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢, Response ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
- **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏µ‡πâ‡∏ô‡∏≥ AI ‡∏°‡∏≤‡∏Å** - ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏≠‡∏á

### AI Response Handling
- Response ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô JSON ‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ
- ‡πÉ‡∏ä‡πâ regex ‡∏´‡∏≤ JSON format ‡πÉ‡∏ô response
- ‡∏°‡∏µ fallback ‡πÄ‡∏°‡∏∑‡πà‡∏≠ parse JSON ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- ‡πÅ‡∏™‡∏î‡∏á AI confidence ‡πÅ‡∏°‡πâ action ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô HOLD

### AI Decision Points
1. **AUTO OPEN Mode (SuperTrend Confidence ‚â• 75% + Signal ‚â† NEUTRAL)**:
   - ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: SuperTrend Trend + EMA100 + Signal + Confidence
   - ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: LONG/SHORT ‡∏ï‡∏≤‡∏° Signal ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: Stop Loss/Take Profit ‡∏à‡∏≤‡∏Å SuperTrend bands
   - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ AI

2. **AI Mode (SuperTrend Confidence < 75% ‡∏´‡∏£‡∏∑‡∏≠ Signal = NEUTRAL)**:
   - ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: OHLCV 100 ‡πÅ‡∏ó‡πà‡∏á + SuperTrend Trend + EMA100 + ‡∏£‡∏≤‡∏Ñ‡∏≤ proximity
   - ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: LONG/SHORT/HOLD (‡∏ï‡πâ‡∏≠‡∏á AI Confidence ‚â• 85%)
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: Risk-Reward Ratio
   - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: SL/TP (‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)

3. **‡∏õ‡∏¥‡∏î Position (‡πÉ‡∏ä‡πâ AI ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)**:
   - ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: OHLCV 100 ‡πÅ‡∏ó‡πà‡∏á + position data
   - ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: CLOSE/HOLD (‡∏ï‡πâ‡∏≠‡∏á AI Confidence ‚â• 85%)
   - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô, ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Å‡∏≥‡πÑ‡∏£, ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ï‡πà‡∏≠

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å
1. **Core System**:
   - `app.py` - ‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
   - `enhanced_position_manager.py` - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ position ‡πÅ‡∏•‡∏∞ workflow

2. **Analysis**:
   - `pivot_point_supertrend_detector.py` - Pivot Point SuperTrend Detection algorithm
   - `ai_analyzer.py` - AI integration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î position
   - `position_analyzer.py` - AI integration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏¥‡∏î position

3. **Data & Exchange**:
   - `exchange_client.py` - Gate.io connection via https://github.com/gateio/gateapi-python
   - `market_data_provider.py` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏•‡∏≤‡∏î

4. **Configuration**:
   - `trading_rules.py` - ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏£‡∏î‡πÅ‡∏•‡∏∞ parameters
   - `.env` - API keys (‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)

## üìÇ ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- `test/` - ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- `markdown/` - ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö (‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
- `prompts/` - Manual prompt files

## ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏≤‡∏ö
- **Leverage Setting**: ‚úÖ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß)
- **API Signature Error**: ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡∏≠‡∏ô‡∏ï‡∏±‡πâ‡∏á margin mode ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- **AI response**: ‡∏≠‡∏≤‡∏à‡∏ä‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠ timeout (‡∏°‡∏µ retry mechanism)
- **Balance Requirement**: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ balance ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 15 USDT ‡∏ï‡πà‡∏≠ position
- **Position Value**: 15 USDT x 5x leverage = 75 USDT total exposure

## üìä ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•
- **Terminal Output**:
  - Balance ‡πÅ‡∏•‡∏∞ PnL realtime
  - Position status ‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
  - AI confidence % ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à
  - Pivot Point SuperTrend detection results
- **Log Files**: ‡πÑ‡∏°‡πà‡∏°‡∏µ (‡∏î‡∏π‡∏à‡∏≤‡∏Å terminal ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
- **Position Tracking**: ‡πÅ‡∏™‡∏î‡∏á entry price, size, PnL

## üîê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- ‡πÉ‡∏ä‡πâ isolated margin ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
- Position size ‡πÄ‡∏•‡πá‡∏Å (15 USDT)
- ‡πÑ‡∏°‡πà‡∏°‡∏µ martingale ‡∏´‡∏£‡∏∑‡∏≠ grid
- AI ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ hard rule

# Pine Script
// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// ¬© LonesomeTheBlue

//@version=4
study("Pivot Point SuperTrend", overlay = true)
prd = input(defval = 2, title="Pivot Point Period", minval = 1, maxval = 50)
Factor=input(defval = 3, title = "ATR Factor", minval = 1, step = 0.1)
Pd=input(defval = 10, title = "ATR Period", minval=1)
showpivot = input(defval = false, title="Show Pivot Points")
showlabel = input(defval = true, title="Show Buy/Sell Labels")
showcl = input(defval = false, title="Show PP Center Line")
showsr = input(defval = false, title="Show Support/Resistance")

// get Pivot High/Low
float ph = pivothigh(prd, prd)
float pl = pivotlow(prd, prd)

// drawl Pivot Points if "showpivot" is enabled
plotshape(ph and showpivot, text="H",  style=shape.labeldown, color=na, textcolor=color.red, location=location.abovebar, transp=0, offset = -prd)
plotshape(pl and showpivot, text="L",  style=shape.labeldown, color=na, textcolor=color.lime, location=location.belowbar, transp=0, offset = -prd)

// calculate the Center line using pivot points
var float center = na
float lastpp = ph ? ph : pl ? pl : na
if lastpp
    if na(center)
        center := lastpp
    else
        //weighted calculation
        center := (center * 2 + lastpp) / 3

// upper/lower bands calculation
Up = center - (Factor * atr(Pd))
Dn = center + (Factor * atr(Pd))

// get the trend
float TUp = na
float TDown = na
Trend = 0
TUp := close[1] > TUp[1] ? max(Up, TUp[1]) : Up
TDown := close[1] < TDown[1] ? min(Dn, TDown[1]) : Dn
Trend := close > TDown[1] ? 1: close < TUp[1]? -1: nz(Trend[1], 1)
Trailingsl = Trend == 1 ? TUp : TDown

// plot the trend
linecolor = Trend == 1 and nz(Trend[1]) == 1 ? color.lime : Trend == -1 and nz(Trend[1]) == -1 ? color.red : na
plot(Trailingsl, color = linecolor ,  linewidth = 2, title = "PP SuperTrend")
 
plot(showcl ? center : na, color = showcl ? center < hl2 ? color.blue : color.red : na)

// check and plot the signals
bsignal = Trend == 1 and Trend[1] == -1
ssignal = Trend == -1 and Trend[1] == 1
plotshape(bsignal and showlabel ? Trailingsl : na, title="Buy", text="Buy", location = location.absolute, style = shape.labelup, size = size.tiny, color = color.lime, textcolor = color.black, transp = 0)
plotshape(ssignal and showlabel ? Trailingsl : na, title="Sell", text="Sell", location = location.absolute, style = shape.labeldown, size = size.tiny, color = color.red, textcolor = color.white, transp = 0)

//get S/R levels using Pivot Points
float resistance = na
float support = na
support := pl ? pl : support[1]
resistance := ph ? ph : resistance[1]

// if enabled then show S/R levels
plot(showsr and support ? support : na, color = showsr and support ? color.lime : na, style = plot.style_circles, offset = -prd)
plot(showsr and resistance ? resistance : na, color = showsr and resistance ? color.red : na, style = plot.style_circles, offset = -prd)

// alerts
alertcondition(Trend == 1 and Trend[1] == -1, title='Buy Signal', message='Buy Signal')
alertcondition(Trend == -1 and Trend[1] == 1, title='Sell Signal', message='Sell Signal')
alertcondition(change(Trend), title='Trend Changed', message='Trend Changed')
